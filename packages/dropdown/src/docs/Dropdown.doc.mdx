import { Story, Canvas } from '@storybook/addon-docs'

# Dropdowns
Dropdown is basically a button that opens a [menu](?path=/docs/ui-menu--normal&args=#menu) component using [popper js]

[Github repo](https://github.com/unicoderns/ui/tree/master/packages/dropdown)

```html
<ui-dropdown
  :label="'some label'"
  :datasource="[]"
  :invert="false"
  :anchor="false"
  :outline="false"
  :variant="'primary'"
  :size?: SizeVariant
  :splitButton="false"
  :disableBackdrop="false"
  :defaultSelectedIndex="null"
  :arrowDirection="down"
  :menuAlignEnd="false"
  :aria:expanded="'expanded'"
  :aria:groupRole="'group'"
  @show="show" @select="select" @hide="hide">
</ui-dropdown>
```

# Variants

<Canvas>
  <Story id="ui-dropdown--primary" />
  <Story id="ui-dropdown--secondary" />
  <Story id="ui-dropdown--success" />
  <Story id="ui-dropdown--danger" />
  <Story id="ui-dropdown--warning" />
  <Story id="ui-dropdown--info" />
  <Story id="ui-dropdown--light" />
  <Story id="ui-dropdown--dark" />
</Canvas>

# Split button

<Canvas>
  <Story id="ui-dropdown--split-button" />
</Canvas>

# Menu align end

<Canvas>
  <Story id="ui-dropdown--menu-align-end" />
</Canvas>

# Arrow Direction

<Canvas>
  <Story id="ui-dropdown--left" />
  <Story id="ui-dropdown--right" />
  <Story id="ui-dropdown--up" />
</Canvas>

# Popper Js and menu on the edges
By using Popper Js the menu can accomodate itself when it gets to the edges.
You can play around with that functionality [here](/story/ui-bootstrap-dropdown--edge)

## Props

| Name | Type  | Description |
| ---- | ---- | ----------- |
| `label` | `string` | button label, it overrides the slot content if present |
| `datasource` | `array` | configuration for the (menu component](?path=/docs/ui-menu-normal&args=#menu) |
| `invert` | `boolean` | inverts the menu component |
| `outline` | `boolean` | outline class is added to the button |
| `variant` | `string` | variant class defined in the theme |
| `size` | `string <ButtonSizeVariant>` | ButtonSizeVariant enum for sm, md or lg size.  |
| `splitButton` | `boolean` | shows button as a split button from the arrow part |
| `defaultSelectedIndex` | `number` | the menu component default selected index |
| `disableBackdrop` | `boolean` | if true menu won't close when click outside |
| `arrowDirection` | `string` | if true menu won't close when esc key pressed |
| `menuAlignEnd` | `boolean` | if true menu will align to the right (or to the left if is RTL) |

# Events
Dropdown will emit this events while changing state

| Event | Params | Desription |
| ---- | ---- | ----------- |
| show | NONE | will raise when the modal is shown after animation |
| hide | NONE | will raise when the modal is closed after animation |
| select | `item: MenuItem | string` | will raise when a link or button item is clicked |

## Slots

| Name | Description | Params |
| ---- | ----------- | ----- |
| `item` | each item renderer | item |
| `label` | button content, won't appear if `label` prop is set |  |

# Accessibility
Change the next properties to change the default accessibility text

| Name | Property | Default |
| ---- | ---- | ----------- |
| role | aria:expanded | `expanded` |
| title | aria:groupRole | `group` |

Check the page [what is aria](/docs/docs-aria--page#what-is-aria-config) to see how to config accessibility globally for buttons.

# Theme
Use the next `json` to define a new theme for the dropdown

```json
{
  cssClass: {
    main: string // main class for the container div
    menuEndAll: string // class for the menu when its align to the end
    variants: KeyPairString // classes for all the variants
    components: {
      buttonToggle: string // class for the main button
      buttonSplit: string // class for the splitted button part
      buttonGroup: string // class for the button div container when splitted
      buttonAtStart: string // class for the splitted button part when left arrow direction is set
    }
    directions: { // classes for the arrow direction
      [Directions.Up]: string
      [Directions.Down]: string
      [Directions.Left]: string
      [Directions.Right]: string
    }
  }
}
```

Check the page [what is a theme](/docs/docs-theming--page#what-is-a-theme) to see how to use this json

## Inner components

Note that the Dropdown uses [UiMenu](?path=/docs/ui-menu-normal&args=#menu) and [UiButton](?path=/docs/ui-button--primary&args=#buttons) components internally, so when providing a theme you should provide for them as well.